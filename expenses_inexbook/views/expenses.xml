<odoo>

    <record id="inex_expense_request_view_tree" model="ir.ui.view">
        <field name="name">inex_expense_request_view_tree</field>
        <field name="model">inex.expense.request</field>
        <field name="arch" type="xml">
            <tree string="Expense Request">
                <field name="name" options="show"/>
                <field name="request_date"  options="show"/>
                <field name="request_type"  options="show"/>
                <field name="user_id"  options="show"/>
                <field name="partner_id"  options="show"/>
                <field name="beneficiary_type"  options="show"/>
                <field name="subject"  options="show"/>
                <field name="amount_total"  options="show"/>
                <field name="currency_id" invisible="1"/>
                <field name="deadline_payment"  options="show"/>
                <field name="project_account_analytic_id"  options="show"/>
                <field name="payment_way"  options="show"/>
                <field name="time_readjustment"  options="show"/>
                <field name="state"  options="show"/>
            </tree>
        </field>
    </record>

    <record id="inex_expense_request_view_form" model="ir.ui.view">
        <field name="name">inex_expense_request_view_form</field>
        <field name="model">inex.expense.request</field>
        <field name="arch" type="xml">
            <form string="Expense Request">
                <header>
                    <button name="approve_inexbook_manager" type="object" groups="expenses_inexbook.inexbook_manager"
                            string="Approve by Manager" states="sent"/>
                    <button name="approve_inexbook_business_leader" type="object" groups="expenses_inexbook.inexbook_business_leader"
                            string="Approve by Business Leader" states="department_approval"/>
                    <button name="approve_accounting" groups="account.group_account_manager" type="object"
                            string="Approve by Accounting" states="business_leader_approval"/>
                    <button name="approve_CFO" type="object" groups="expenses_inexbook.inexbook_CFO"
                            string="Approve by CFO"  states="accounting_record"/>
                    <button name="approve_CEO" type="object" groups="expenses_inexbook.inexbook_CEO"
                            string="Approve by CEO"  states="finance_approval" />
                    <button name="pay_this" type="object" groups="expenses_inexbook.inexbook_pay_manager"
                            string="Pay" states="president_approval"/>

                    <button name="stop_this" type="object" string="Stop"/>
                    <button name="cancel_this" type="object" string="Cancel"/>
                    <button name="request_corrections" type="object" string="Request for Corrections"/>
                    <field name="state" widget="statusbar"
                           statusbar_visible="department_approval, business_leader_approval,accounting_record,finance_approval,president_approval,payment_process,stopped,paid,request_correction"
                    />
                </header>
                <sheet>
                    <h1><field name="name" readonly="1"/></h1>
                    <h3><field name="request_type" attrs="{'invisible': [('request_type', '=', True)]}"/></h3>
                    <h3><field name="request_type"  attrs="{'invisible': [('request_type', '=', False)]}"
                               readonly="1"/></h3>

                    <group name="top">

                        <group name="left">
                            <field name="request_date"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                            <field name="partner_id"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                            <field name="invoice_date" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="no_invoice" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="voucher_type" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="number_voucher" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="no_refund_note" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="product_id" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="category_id" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="amount_untaxed" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="taxes" widget="tag_many2many" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="amount_to_pay" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="tips_cash" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="beneficiary_type"  attrs="{'invisible': [('request_type', '=', False)]}" readonly="1"/>
                            <field name="beneficiary_type" invisible="1"/>
                            <field name="request_date"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                        </group>
                        <group name="right">
                            <field name="project_account_analytic_id"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                            <field name="expense_type" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="bank_id" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="transfer_data" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="currency_id"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                            <field name="amount_total"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                            <field name="payment_way"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                            <field name="deadline_payment"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                            <field name="time_readjustment"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                            <field name="summary_invoice" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                            <field name="summary_invoice" attrs="{'invisible': [('request_type', 'in', ('advance_invoice', 'pay_invoice_without_po'))]}"/>
                        </group>

                        <group name="left_2">
                            <field name="subject"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                            <field name="description"  attrs="{'invisible': [('request_type', '=', False)]}"/>
                        </group>

                    </group>

                </sheet>
            </form>
        </field>
    </record>

    <record id="inex_expense_request_action" model="ir.actions.act_window">
        <field name="name">Expense Request</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">inex.expense.request</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record id="inexbook_account_record_action" model="ir.actions.act_window">
        <field name="name">Account Record</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">inex.expense.request</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state', '=', 'sent')]</field>
    </record>

    <record id="inexbook_account_record_action" model="ir.actions.act_window">
        <field name="name">Account Record</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">inex.expense.request</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state', '=', 'sent')]</field>
    </record>

    <record id="inexbook_presection_action" model="ir.actions.act_window">
        <field name="name">Preselection</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">inex.expense.request</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state', '=', 'sent')]</field>
    </record>

    <record id="inexbook_payment_process_action" model="ir.actions.act_window">
        <field name="name">Payment Process</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">inex.expense.request</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state', '=', 'sent')]</field>
    </record>

    <record id="inexbook_replacement_action" model="ir.actions.act_window">
        <field name="name">Replacement</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">inex.expense.request</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('state', '=', 'sent')]</field>
    </record>

</odoo>